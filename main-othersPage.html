<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="format-detection" content="telephone=no">
    <title>國際化高階商務平台</title>
    <!--Web default meta-->
    <meta name="robots" content="index, follow">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <meta name="author" content="">
    <!--base css-->
    <link href="css/normalize.css" rel="stylesheet" />
    <link href="css/animate_min.css" rel="stylesheet" />
    <link href="css/base.css" rel="stylesheet" />
    <!--font icon css-->
    <link href="vendors/fontawesome/css/fontawesome-pro-all.css" rel="stylesheet" />
    <link href="vendors/fontawesome/css/fontawesome-pro-web.css" rel="stylesheet" />
    <!--vendors css-->
    <link href="vendors/slick/slick.css" rel="stylesheet" />
    <link href="vendors/perfectScrollbar/perfect-scrollbar.css" rel="stylesheet" />
    <link href="vendors/croppie/croppie.css" rel="stylesheet" />
    <!--page css-->
    <link href="sass/page/footer.css" rel="stylesheet" />
    <link href="sass/page/mainHeader.css" rel="stylesheet" />
    <link href="sass/page/main_pageStyle.css" rel="stylesheet" />
</head>

<body id="page-personal">
    <!--main header-->
    <script src="js/main_header.js"></script>
    <div class="lk-wrapper">
        <div class="lk-left-sidebar">
            <div class="sidebar-user scroll-fix">
                <div class="mx-auto user-photo"><a href="#"><img src="images/main/sample-headshot03.jpg" class="rounded-circle"></a></div>
                <h2 class="sidebar-user__name"><a href="#">王智頤</a></h2>
                <ul class="baseInfo">
                    <li><img src="images/main/icon-map.svg"><span>臺灣 臺南市</span></li>
                    <li><img src="images/main/icon-pro.svg"><span>爵士股份有限公司 執行長</span></li>
                </ul>
                <div class="network-btn notOpen"><a href="#"><img src="images/main/icon-notOpenNetwork.svg">暫不開放加人脈</a></div>
                <div class="network-btn open" style="display: none;"><a href="#"><img src="images/main/icon-addNetwork.svg">邀請加人脈</a></div>
            </div>
        </div>
        <main class="lk-content">
            <div class="lk-content-main">
                <div class="others-coverPhoto">
                    <a href="#"><img src="images/main/sample-coverPhoto.jpg"></a>
                </div>
                <div class="base-info-edit-wrap">
                    <div class="personal-setting__title">
                        <a href="#" class="about active"><span>關於我</span></a>
                        <a href="#" class="companyService"><span>公司服務</span></a>
                        <a href="#" class="experience"><span>經歷</span></a>
                        <a href="#" class="contact"><span>聯絡方式</span></a>
                    </div>
                    <div class="others-info">
                        <div class="others-banner-wrap"><img src="images/main/network-banner.jpg"></div>
                        <div class="others-text-desc">傳送加人脈邀請給<b>王智頤</b>，如果<b>王智頤</b>同意開放聯絡方式<br>並接受您的邀請，您就能查看<b>王智頤</b>的聯絡方式。 </div>
                        <div class="network-btn notOpen"><a href="#"><img src="images/main/icon-notOpenNetwork.svg">暫不開放加人脈</a></div>
                        <div class="network-btn open" style="display: none;"><a href="#"><img src="images/main/icon-addNetwork.svg">邀請加人脈</a></div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    <!--footer-->
    <script src="js/footer.js"></script>
    <!--base js-->
    <script src="js/jquery-2.0.0.min.js"></script>
    <!--vendors js-->
    <script src="vendors/slick/slick.js"></script>
    <script src="vendors/perfectScrollbar/perfect-scrollbar.js"></script>
    <script src="vendors/croppie/croppie.js"></script>
    <script src="vendors/croppie/exif-js.js"></script>
    <!--main_custom js-->
    <script src="js/main_custom.js"></script>
    <script>
    new PerfectScrollbar('.lk-scroller-notification');
    //大頭貼圖片裁切
    var isCrop = 0;
    $uploadCrop = $('#upload-user-photo-croppie').croppie({
        enableExif: true,
        viewport: {
            width: 140,
            height: 140,
            type: 'circle'
        },
        boundary: {
            width: 140,
            height: 140
        }
    });

    function readFile(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();
            reader.onload = function(e) {
                $('.upload-user-photo-wrap').addClass('ready');
                $uploadCrop.croppie('bind', {
                    url: e.target.result
                })
            }
            reader.readAsDataURL(input.files[0]);
        }
    }
    $('#upload-user-photo').on('change', function() { readFile(this); });
    $('#user-photo-delete').on('click', function(ev) {
        if ($(".upload-user-photo").is(':hidden')) {
            $('.upload-user-photo-wrap').removeClass('ready');
            $('#upload-user-photo').val("");
            isCrop = 0;
        }
    });
    $('#user-photo-result').on('click', function(ev) {
        if (!isCrop) {
            isCrop = 1;
            $uploadCrop.croppie('result', {
                type: 'canvas',
                size: 'viewport'
            }).then(function(resp) {
                $('.result-user-photo').attr('src', resp);
                $('.upload-user-photo-wrap').removeClass('ready');
                $('.user-photo__button').hide();
            });
        }
    });
    //個人檔案背景裁切
    var isCropB = 0;
    $uploadCropB = $('#upload-background-image-croppie').croppie({
        enableExif: true,
        viewport: {
            width: 900,
            height: 315,
        },
        boundary: {
            width: 900,
            height: 315
        },
        // showZoomer: false,
        // enableOrientation: true
    });

    function readFileB(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();
            reader.onload = function(e) {
                $('.profile-background-image-wrap').addClass('ready');
                $uploadCropB.croppie('bind', {
                    url: e.target.result
                })
            }
            reader.readAsDataURL(input.files[0]);
        }
    }
    $('#upload-background-image').on('change', function() { readFileB(this); });
    $('#background-image-delete').on('click', function(ev) {
        if ($(".upload-background-image").is(':hidden')) {
            $('.profile-background-image-wrap').removeClass('ready');
            $('#upload-background-image').val("");
            isCropB = 0;
        }
    });
    $('#background-image-result').on('click', function(ev) {
        if (!isCropB) {
            isCropB = 1;
            $uploadCropB.croppie('result', {
                type: 'canvas',
                size: 'viewport'
            }).then(function(resp) {
                $('.result-background-image').attr('src', resp);
                $('.background-image').addClass('resultImg');
                $('.profile-background-image-wrap').removeClass('ready');
                $('.background-image__button').hide();
            });
        }
    });
    </script>
</body>

</html>
